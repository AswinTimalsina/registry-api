{
  "$schema": "http://interagent.github.io/interagent-hyper-schema",
  "type": [
    "object"
  ],
  "definitions": {
    "buildpack": {
      "$schema": "http://json-schema.org/draft-04/hyper-schema",
      "title": "Buildpack Registry - Buildpack",
      "description": "Buildpacks indexed in the Cloud Native Buildpack Registry.",
      "stability": "prototype",
      "strictProperties": true,
      "type": [
        "object"
      ],
      "definitions": {
        "id": {
          "description": "unique identifier of buildpack",
          "readOnly": true,
          "format": "uuid",
          "type": [
            "string"
          ]
        },
        "namespace": {
          "description": "namespace of buildpack",
          "readOnly": true,
          "example": "acme",
          "type": [
            "string"
          ]
        },
        "name": {
          "description": "name of buildpack",
          "readOnly": true,
          "example": "java",
          "type": [
            "string"
          ]
        },
        "version": {
          "description": "version of buildpack",
          "readOnly": true,
          "example": "1.0.0",
          "type": [
            "string"
          ]
        },
        "identity": {
          "anyOf": [
            {
              "$ref": "#/definitions/buildpack/definitions/id"
            }
          ]
        },
        "created_at": {
          "description": "when buildpack was created",
          "format": "date-time",
          "type": [
            "string"
          ]
        },
        "updated_at": {
          "description": "when buildpack was updated",
          "format": "date-time",
          "type": [
            "string"
          ]
        }
      },
      "links": [
        {
          "description": "Info for a specific buildpack version.",
          "href": "/buildpacks/{(%23%2Fdefinitions%2Fbuildpack%2Fdefinitions%2Fnamespace)}/{(%23%2Fdefinitions%2Fbuildpack%2Fdefinitions%2Fname)}/{(%23%2Fdefinitions%2Fbuildpack%2Fdefinitions%2Fversion)}",
          "method": "GET",
          "rel": "self",
          "title": "Info"
        },
        {
          "description": "List of versions for buildpack.",
          "href": "/buildpacks/{(%23%2Fdefinitions%2Fbuildpack%2Fdefinitions%2Fnamespace)}/{(%23%2Fdefinitions%2Fbuildpack%2Fdefinitions%2Fname)}",
          "method": "GET",
          "rel": "instances",
          "title": "List"
        }
      ],
      "properties": {
        "name": {
          "$ref": "#/definitions/buildpack/definitions/name"
        },
        "namespace": {
          "$ref": "#/definitions/buildpack/definitions/namespace"
        },
        "version": {
          "$ref": "#/definitions/buildpack/definitions/version"
        }
      }
    },
    "search": {
      "$schema": "http://json-schema.org/draft-04/hyper-schema",
      "title": "Buildpack Registry - Search",
      "description": "Search for Buildpacks in the Registry",
      "stability": "prototype",
      "strictProperties": true,
      "type": [
        "object"
      ],
      "definitions": {
        "matches": {
          "description": "keyword to search for",
          "readOnly": true,
          "type": [
            "string"
          ]
        }
      },
      "links": [
        {
          "description": "Search for buildpacks matching a keyword.",
          "href": "/search",
          "method": "GET",
          "rel": "instances",
          "title": "Search",
          "type": [
            "object"
          ]
        }
      ],
      "properties": {
        "latest": {
          "properties": {
            "namespace": {
              "$ref": "#/definitions/buildpack/definitions/namespace"
            },
            "name": {
              "$ref": "#/definitions/buildpack/definitions/name"
            },
            "version": {
              "$ref": "#/definitions/buildpack/definitions/version"
            }
          }
        },
        "versions": {
          "properties": {
            "<version>": {
              "properties": {
                "namespace": {
                  "$ref": "#/definitions/buildpack/definitions/namespace"
                },
                "name": {
                  "$ref": "#/definitions/buildpack/definitions/name"
                },
                "version": {
                  "$ref": "#/definitions/buildpack/definitions/version"
                }
              },
              "type": [
                "object"
              ]
            }
          },
          "type": [
            "object"
          ]
        }
      }
    }
  },
  "properties": {
    "buildpack": {
      "$ref": "#/definitions/buildpack"
    },
    "search": {
      "$ref": "#/definitions/search"
    }
  },
  "description": "The Buildpack Registry API empowers developers to automate, extend and combine Buildpacks with other services.",
  "id": "http://api.buildpacks.io//api/v1/schema#",
  "links": [
    {
      "href": "https://registry.buildpacks.io/api/v1",
      "rel": "self"
    },
    {
      "href": "/schema",
      "method": "GET",
      "rel": "self",
      "targetSchema": {
        "additionalProperties": true
      }
    }
  ],
  "title": "Buildpack Registry API"
}
